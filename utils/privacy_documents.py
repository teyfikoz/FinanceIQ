"""Privacy Policy and Legal Documents for GDPR/KVKK Compliance"""

PRIVACY_POLICY_TR = """
# Gizlilik Politikası ve KVKK Aydınlatma Metni

**Son Güncelleme:** 2025-01-17
**Versiyon:** 1.0

## 1. Veri Sorumlusu

FinanceIQ ("Biz", "Platform") olarak, 6698 sayılı Kişisel Verilerin Korunması Kanunu ("KVKK") ve Avrupa Birliği Genel Veri Koruma Tüzüğü ("GDPR") kapsamında veri sorumlusuyuz.

## 2. Toplanan Kişisel Veriler

Platformumuzu kullandığınızda aşağıdaki kişisel verilerinizi işlemekteyiz:

### 2.1. Kimlik Bilgileri
- Kullanıcı adı
- E-posta adresi
- Şifre (hash'lenmiş)

### 2.2. İşlem Verileri
- Portföy bilgileri
- Hisse senedi işlem geçmişi
- Watchlist ve alert ayarları
- Platform kullanım tercihleri

### 2.3. Teknik Veriler
- IP adresi
- Tarayıcı bilgisi (User Agent)
- Oturum bilgileri
- Giriş/çıkış zamanları

## 3. Verilerin İşlenme Amaçları ve Hukuki Dayanakları

| Amaç | Hukuki Dayanak |
|------|----------------|
| Kullanıcı hesabı oluşturma ve yönetme | Sözleşmenin ifası (KVKK m.5/2-c) |
| Platform hizmetlerinin sunulması | Sözleşmenin ifası (KVKK m.5/2-c) |
| Güvenlik ve kimlik doğrulama | Meşru menfaat (KVKK m.5/2-f) |
| Pazarlama ve analitik (opsiyonel) | Açık rıza (KVKK m.5/1) |
| Yasal yükümlülüklerin yerine getirilmesi | Kanuni yükümlülük (KVKK m.5/2-a) |

## 4. Verilerin Saklanma Süresi

- **Aktif kullanıcı verileri:** Hesap aktif olduğu sürece
- **İşlem geçmişi:** Son işlemden itibaren 2 yıl
- **Pasif hesaplar:** Son girişten itibaren 2 yıl sonra anonimleştirilir
- **Log kayıtları:** 90 gün
- **Rıza kayıtları:** Rızanın geri alınmasından sonra 5 yıl (ispat amaçlı)

## 5. KVKK Kapsamında Haklarınız

KVKK'nın 11. maddesi uyarınca aşağıdaki haklara sahipsiniz:

### 5.1. Bilgi Talep Etme Hakkı
- Kişisel verilerinizin işlenip işlenmediğini öğrenme
- İşlenmişse buna ilişkin bilgi talep etme
- İşlenme amacını ve amacına uygun kullanılıp kullanılmadığını öğrenme

### 5.2. Düzeltme Hakkı
- Eksik veya yanlış işlenmiş kişisel verilerinizin düzeltilmesini talep edebilirsiniz

### 5.3. Silme/Anonim Hale Getirme Hakkı ("Unutulma Hakkı")
- İşleme şartları ortadan kalktıysa verilerinizin silinmesini talep edebilirsiniz
- 30 gün içinde verileriniz kalıcı olarak silinir veya anonimleştirilir

### 5.4. Veri Taşınabilirliği Hakkı
- Kişisel verilerinizi yapılandırılmış, yaygın kullanılan, makine tarafından okunabilir formatta alabilirsiniz
- JSON formatında tam dışa aktarım yapabilirsiniz

### 5.5. İtiraz Etme Hakkı
- Otomatik sistemlerle verilerinizin işlenmesine itiraz edebilirsiniz

## 6. Veri Güvenliği

Kişisel verilerinizin güvenliği için aşağıdaki önlemleri almaktayız:

- ✅ Şifrelerin SHA-256 ile hash'lenmesi
- ✅ Güvenli oturum yönetimi (7 günlük token süresi)
- ✅ Veritabanı şifrelemesi
- ✅ Erişim loglarının tutulması
- ✅ Düzenli güvenlik güncellemeleri

## 7. Veri Aktarımı

Kişisel verileriniz aşağıdaki durumlarda üçüncü taraflara aktarılabilir:

### 7.1. Hizmet Sağlayıcılar
- **Streamlit Cloud:** Hosting hizmeti (ABD)
- **Yahoo Finance API:** Piyasa verileri (Anonim)
- **GitHub:** Kod repository (Anonim)

### 7.2. Yasal Zorunluluklar
Yasal bir zorunluluk veya mahkeme kararı olması halinde yetkili makamlara veri aktarımı yapılabilir.

## 8. Çerezler (Cookies)

Platform, oturum yönetimi için teknik çerezler kullanmaktadır. Bu çerezler platformun çalışması için gereklidir.

## 9. Çocukların Gizliliği

Platformumuz 18 yaş altı kişiler için tasarlanmamıştır. 18 yaş altı kullanıcılardan bilerek veri toplamayız.

## 10. İletişim

Kişisel verilerinizle ilgili talepleriniz için:

**Platform İçi:** Ayarlar > Gizlilik ve Veri Yönetimi
**E-posta:** [Veri sorumlusu e-posta adresi]

## 11. Politika Değişiklikleri

Bu gizlilik politikası güncellenebilir. Önemli değişiklikler olduğunda size bildirim yapılacaktır.

---

**Onay Tarihi:** Platform üzerinde onaylayacağınız tarih
**Onaylayan:** Kullanıcı (IP ve zaman damgası kaydedilir)
"""

PRIVACY_POLICY_EN = """
# Privacy Policy and GDPR Information Notice

**Last Updated:** 2025-01-17
**Version:** 1.0

## 1. Data Controller

FinanceIQ ("We", "Platform") is the data controller under the Turkish Personal Data Protection Law No. 6698 ("KVKK") and the EU General Data Protection Regulation ("GDPR").

## 2. Personal Data We Collect

When you use our Platform, we process the following personal data:

### 2.1. Identity Information
- Username
- Email address
- Password (hashed)

### 2.2. Transaction Data
- Portfolio information
- Stock transaction history
- Watchlist and alert settings
- Platform usage preferences

### 2.3. Technical Data
- IP address
- Browser information (User Agent)
- Session information
- Login/logout times

## 3. Purposes and Legal Basis for Processing

| Purpose | Legal Basis |
|---------|-------------|
| Account creation and management | Contract performance (KVKK Art.5/2-c) |
| Platform service delivery | Contract performance (KVKK Art.5/2-c) |
| Security and authentication | Legitimate interest (KVKK Art.5/2-f) |
| Marketing and analytics (optional) | Explicit consent (KVKK Art.5/1) |
| Legal compliance | Legal obligation (KVKK Art.5/2-a) |

## 4. Data Retention Period

- **Active user data:** While account is active
- **Transaction history:** 2 years from last transaction
- **Inactive accounts:** Anonymized 2 years after last login
- **Log records:** 90 days
- **Consent records:** 5 years after withdrawal (for proof)

## 5. Your Rights Under KVKK/GDPR

Under Article 11 of KVKK and GDPR, you have the following rights:

### 5.1. Right to Information
- Learn whether your personal data is processed
- Request information about processing
- Learn the purpose and whether it's used accordingly

### 5.2. Right to Rectification
- Request correction of incomplete or incorrect personal data

### 5.3. Right to Erasure/Anonymization ("Right to be Forgotten")
- Request deletion of your data when processing conditions cease
- Data will be permanently deleted or anonymized within 30 days

### 5.4. Right to Data Portability
- Receive your personal data in a structured, commonly used, machine-readable format
- Full export available in JSON format

### 5.5. Right to Object
- Object to automated processing of your data

## 6. Data Security

We implement the following security measures:

- ✅ SHA-256 password hashing
- ✅ Secure session management (7-day token expiry)
- ✅ Database encryption
- ✅ Access logging
- ✅ Regular security updates

## 7. Data Transfer

Your personal data may be transferred to third parties in the following cases:

### 7.1. Service Providers
- **Streamlit Cloud:** Hosting service (USA)
- **Yahoo Finance API:** Market data (Anonymous)
- **GitHub:** Code repository (Anonymous)

### 7.2. Legal Requirements
Data may be transferred to authorities when legally required or by court order.

## 8. Cookies

The Platform uses technical cookies for session management. These cookies are necessary for the platform to function.

## 9. Children's Privacy

Our Platform is not designed for persons under 18 years of age. We do not knowingly collect data from minors.

## 10. Contact

For requests regarding your personal data:

**In-Platform:** Settings > Privacy and Data Management
**Email:** [Data controller email address]

## 11. Policy Changes

This privacy policy may be updated. You will be notified of significant changes.

---

**Consent Date:** Date you approve on the platform
**Consenter:** User (IP and timestamp recorded)
"""

TERMS_OF_SERVICE = """
# Kullanım Koşulları / Terms of Service

**Versiyon:** 1.0
**Yürürlük Tarihi:** 2025-01-17

## 1. Hizmet Tanımı

FinanceIQ, finansal veri analizi ve portföy yönetimi hizmeti sunan bir platformdur.

## 2. Kullanıcı Sorumlulukları

- Doğru ve güncel bilgi sağlamak
- Hesap güvenliğini korumak
- Platformu yasal amaçlarla kullanmak

## 3. Sorumluluk Reddi

Platform yalnızca bilgilendirme amaçlıdır ve yatırım tavsiyesi değildir. Kullanıcılar kendi risk değerlendirmelerini yapmakla yükümlüdür.

## 4. Hizmet Değişiklikleri

Platform, bildirimsiz olarak hizmeti değiştirme veya sonlandırma hakkını saklı tutar.

## 5. Uyuşmazlık Çözümü

Türkiye Cumhuriyeti yasaları ve İstanbul mahkemeleri yetkilidir.
"""

MARKETING_CONSENT_TEXT = """
# Pazarlama İletişimi Onayı

Aşağıdaki iletişim kanalları üzerinden ürün, hizmet, kampanya ve duyurular hakkında bilgilendirme almayı kabul ediyorum:

- E-posta bildirimleri
- Platform içi bildirimler
- Özelleştirilmiş içerik önerileri

Bu onayı istediğiniz zaman geri çekebilirsiniz.
"""

ANALYTICS_CONSENT_TEXT = """
# Analitik ve İyileştirme Onayı

Platform deneyimini iyileştirmek için kullanım verilerimin (hangi sayfaları ziyaret ettiğim, hangi özellikleri kullandığım vb.) toplanmasını ve analiz edilmesini kabul ediyorum.

Bu veriler anonim hale getirilerek kullanılır ve üçüncü taraflarla paylaşılmaz.
"""

def get_privacy_policy(language: str = 'tr') -> str:
    """Get privacy policy in specified language"""
    if language.lower() == 'en':
        return PRIVACY_POLICY_EN
    return PRIVACY_POLICY_TR

def get_terms_of_service() -> str:
    """Get terms of service"""
    return TERMS_OF_SERVICE

def get_marketing_consent_text() -> str:
    """Get marketing consent text"""
    return MARKETING_CONSENT_TEXT

def get_analytics_consent_text() -> str:
    """Get analytics consent text"""
    return ANALYTICS_CONSENT_TEXT
